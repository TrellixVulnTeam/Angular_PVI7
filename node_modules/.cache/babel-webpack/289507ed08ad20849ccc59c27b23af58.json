{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/mique/DAW2/M14/PROJECTE_ANGULAR/Videojocs/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet VideojocsFavComponent = class VideojocsFavComponent {\n  constructor(VideojocsService) {\n    this.listaFav = [];\n  }\n\n  ngOnInit() {\n    this.cargarArray();\n  }\n\n  cargarArray() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const favoritos = yield localStorage.getItem('favoritos');\n\n      if (favoritos) {\n        _this.listaFav = JSON.parse(favoritos);\n      }\n\n      console.log(_this.listaFav);\n    })();\n  }\n\n  eliminarFav(videojoc) {\n    // Eliminar del localStorage el id y el nombre del videojoc\n    const favoritos = localStorage.getItem('favoritos');\n    let favoritosArray = [];\n\n    if (favoritos) {\n      favoritosArray = JSON.parse(favoritos);\n    }\n\n    const existe = favoritosArray.find(favorito => favorito.id === videojoc.id);\n\n    if (existe) {\n      const index = favoritosArray.indexOf(existe);\n      favoritosArray.splice(index, 1);\n    }\n\n    localStorage.setItem('favoritos', JSON.stringify(favoritosArray));\n  } // Eliminar elemento de la lista si ya no está en favoritos\n\n\n  eliminarFavLista(index) {\n    this.listaFav.splice(index, 1);\n  }\n\n};\nVideojocsFavComponent = __decorate([Component({\n  selector: 'app-videojocs-fav',\n  templateUrl: './videojocs-fav.component.html',\n  styleUrls: ['./videojocs-fav.component.css']\n})], VideojocsFavComponent);\nexport { VideojocsFavComponent };","map":{"version":3,"sources":["C:/Users/mique/DAW2/M14/PROJECTE_ANGULAR/Videojocs/src/app/videojocs/videojocs-fav/videojocs-fav.component.ts"],"names":["__decorate","Component","VideojocsFavComponent","constructor","VideojocsService","listaFav","ngOnInit","cargarArray","favoritos","localStorage","getItem","JSON","parse","console","log","eliminarFav","videojoc","favoritosArray","existe","find","favorito","id","index","indexOf","splice","setItem","stringify","eliminarFavLista","selector","templateUrl","styleUrls"],"mappings":";AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,IAAIC,qBAAqB,GAAG,MAAMA,qBAAN,CAA4B;AACpDC,EAAAA,WAAW,CAACC,gBAAD,EAAmB;AAC1B,SAAKC,QAAL,GAAgB,EAAhB;AACH;;AACDC,EAAAA,QAAQ,GAAG;AACP,SAAKC,WAAL;AACH;;AACKA,EAAAA,WAAW,GAAG;AAAA;;AAAA;AAChB,YAAMC,SAAS,SAASC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAxB;;AACA,UAAIF,SAAJ,EAAe;AACX,QAAA,KAAI,CAACH,QAAL,GAAgBM,IAAI,CAACC,KAAL,CAAWJ,SAAX,CAAhB;AACH;;AACDK,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAI,CAACT,QAAjB;AALgB;AAMnB;;AACDU,EAAAA,WAAW,CAACC,QAAD,EAAW;AAClB;AACA,UAAMR,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAlB;AACA,QAAIO,cAAc,GAAG,EAArB;;AACA,QAAIT,SAAJ,EAAe;AACXS,MAAAA,cAAc,GAAGN,IAAI,CAACC,KAAL,CAAWJ,SAAX,CAAjB;AACH;;AACD,UAAMU,MAAM,GAAGD,cAAc,CAACE,IAAf,CAAoBC,QAAQ,IAAIA,QAAQ,CAACC,EAAT,KAAgBL,QAAQ,CAACK,EAAzD,CAAf;;AACA,QAAIH,MAAJ,EAAY;AACR,YAAMI,KAAK,GAAGL,cAAc,CAACM,OAAf,CAAuBL,MAAvB,CAAd;AACAD,MAAAA,cAAc,CAACO,MAAf,CAAsBF,KAAtB,EAA6B,CAA7B;AACH;;AACDb,IAAAA,YAAY,CAACgB,OAAb,CAAqB,WAArB,EAAkCd,IAAI,CAACe,SAAL,CAAeT,cAAf,CAAlC;AACH,GA3BmD,CA4BpD;;;AACAU,EAAAA,gBAAgB,CAACL,KAAD,EAAQ;AACpB,SAAKjB,QAAL,CAAcmB,MAAd,CAAqBF,KAArB,EAA4B,CAA5B;AACH;;AA/BmD,CAAxD;AAiCApB,qBAAqB,GAAGF,UAAU,CAAC,CAC/BC,SAAS,CAAC;AACN2B,EAAAA,QAAQ,EAAE,mBADJ;AAENC,EAAAA,WAAW,EAAE,gCAFP;AAGNC,EAAAA,SAAS,EAAE,CAAC,+BAAD;AAHL,CAAD,CADsB,CAAD,EAM/B5B,qBAN+B,CAAlC;AAOA,SAASA,qBAAT","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nlet VideojocsFavComponent = class VideojocsFavComponent {\r\n    constructor(VideojocsService) {\r\n        this.listaFav = [];\r\n    }\r\n    ngOnInit() {\r\n        this.cargarArray();\r\n    }\r\n    async cargarArray() {\r\n        const favoritos = await localStorage.getItem('favoritos');\r\n        if (favoritos) {\r\n            this.listaFav = JSON.parse(favoritos);\r\n        }\r\n        console.log(this.listaFav);\r\n    }\r\n    eliminarFav(videojoc) {\r\n        // Eliminar del localStorage el id y el nombre del videojoc\r\n        const favoritos = localStorage.getItem('favoritos');\r\n        let favoritosArray = [];\r\n        if (favoritos) {\r\n            favoritosArray = JSON.parse(favoritos);\r\n        }\r\n        const existe = favoritosArray.find(favorito => favorito.id === videojoc.id);\r\n        if (existe) {\r\n            const index = favoritosArray.indexOf(existe);\r\n            favoritosArray.splice(index, 1);\r\n        }\r\n        localStorage.setItem('favoritos', JSON.stringify(favoritosArray));\r\n    }\r\n    // Eliminar elemento de la lista si ya no está en favoritos\r\n    eliminarFavLista(index) {\r\n        this.listaFav.splice(index, 1);\r\n    }\r\n};\r\nVideojocsFavComponent = __decorate([\r\n    Component({\r\n        selector: 'app-videojocs-fav',\r\n        templateUrl: './videojocs-fav.component.html',\r\n        styleUrls: ['./videojocs-fav.component.css']\r\n    })\r\n], VideojocsFavComponent);\r\nexport { VideojocsFavComponent };\r\n"]},"metadata":{},"sourceType":"module"}